<!DOCTYPE html>
<html lang="en-US" style="overflow-y: hidden;">

<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
		<title>vytas.io - Java EE application configuration using Aeonbits Owner - vytas.io</title>
		<meta property="og:title" content="Java EE application configuration using Aeonbits Owner">
		<meta property="og:description" content="  
Every (almost) Java EE based application needs configuration — local, test or production — it does not matter. What matters — how easily this
configuration solution is maintained and how easily the environment may be changed. 


">
		
		<link rel="canonical" href="http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/">
		
		
		<link rel="stylesheet" type="text/css" media="all" href="/css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" media="all" href="/css/font-awesome.min.css"/>
		<link rel="stylesheet" type="text/css" media="all" href="/css/style.css"/>
		<link rel="stylesheet" id="dropmenu-css" href="/css/dropmenu.css?ver=4.0.8" type="text/css" media="all"/>
		<link rel="stylesheet" id="styles-css" href="/css/styles.css?ver=4.0.8" type="text/css" media="all"/>
		<link rel="stylesheet" id="list-styles-css" href="/css/fa-list.css?ver=4.0.8" type="text/css" media="all"/>
		<link rel="stylesheet" id="justifiedGallery.min-css" href="/css/justifiedGallery.min.css?ver=4.0.8" type="text/css" media="all"/>
		<link rel="stylesheet" id="swipebox-css" href="/js/swipebox/swipebox.css?ver=4.0.8" type="text/css" media="all"/>
		<link rel="stylesheet" id="custom-styles-css" href="/css/custom.css?ver=4.0.8" type="text/css" media="all"/>
		<link rel="stylesheet" id="google-fonts-css" href="http://fonts.googleapis.com/css?family=Merriweather%3A300%7CRaleway%3A700%2C400&amp;ver=1415600913" type="text/css" media="all"/>
		<script type="text/javascript">
/* <![CDATA[ */
var inafx_theme = {"niceScroll":"1","stickyHeader":"0"};
/* ]]> */
</script>
		<script type="text/javascript" src="/js/jquery-2.1.1.min.js"></script>
		<meta name="generator" content="WordPress 4.0.8"/>
		<link rel="shortcut icon" type="image/png" href="images/author.jpg | prepend: site.baseurl }}"/>
	</head>
	
	
	

<body class="home blog wide ajax-inafx-likes" role="document">
		<div class="page-wrapper">
			<header id="header-wrapper">
				<div id="header">
					<div class="container">
						<div class="row">
							<div class="col-sm-12">
								<div class="logo">
									<div class="logo-text">
										<a href="http://vytas.io/">
            								vytas.io        
            							</a>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="navbar-wrapper">
						<div class="navbar navbar-small dropmenu" role="banner">
							<div class="container">
								<nav id="nav-dropdown-menu1" class="nav-dropdown-menu collapse navbar-collapse">
									<ul id="menu-top-menu" class="nav">
										<li id="menu-item-198" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-198 dropdown">
											<a title="Home" href="/index.html" class="dropdown-toggle" aria-haspopup="true">
												Home
											</a>
										</li>
										<li id="menu-item-198" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-198 dropdown">
											<a title="Java" href="/categories/java/" class="dropdown-toggle" aria-haspopup="true">
												Java
											</a>
										</li>
										<li id="menu-item-198" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-198 dropdown">
											<a title="Bookmarks" href="index.html" class="dropdown-toggle" aria-haspopup="true">
												Bookmarks
												<span class="fa fa-angle-down"></span>
											</a>
											<ul role="menu" class="dropdown-menu" style="display: none; position: absolute;">
	
	<li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174">
		<a title="Features" href="/categories/tools/">Tools</a>
	</li>
	<li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174">
		<a title="Features" href="/categories/startups/">Startups</a>
	</li>
	<li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174">
		<a title="Features" href="/categories/websites/">Websites</a>
	</li>
	<li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174">
		<a title="Features" href="/categories/robots/">Robots</a>
	</li>
	<li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174">
		<a title="Features" href="/categories/space/">Space</a>
	</li>
	<li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174">
		<a title="Features" href="/categories/technologies/">Technologies</a>
	</li>
	<li id="menu-item-174" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-174">
		<a title="Features" href="/categories/cars/">Cars</a>
	</li>
											</ul>
										</li>
									</ul>
								</nav>
							</div>
						</div>
					</div>
				</div>
			</header>

		</div>
		<div id="main" style="padding-top: 0px;">
			<div id="content">
				<div class="container">
					<div class="row">
						<article id="post-58" class="post-58 post type-post status-publish format-standard has-post-thumbnail hentry category-photography tag-featured tag-vintage">
                                                        <!-- ## zoom-box start ## -->
                
                
               
                <!-- ## zoom-box end ## -->
                            <!-- ## post-entry start ## -->
    <div class="row post-entry">
        <!-- ## title start ## -->
        <div class="col-sm-12">
            <!-- ## post-header start ## -->
<header class="post-header">
    <!-- ## post-title ## -->
    <h2 class="post-title">
    Java EE application configuration using Aeonbits Owner
    </h2>
</header>
<!-- ## post-header end ## -->        </div>
        <!-- ## title end ## -->
        <!-- ## entry-meta start ## -->
        <div class="col-sm-12 entry-meta">
                        <span class="meta"><span class="fa fa-file-text-o"></span></span>            
                         
                                 <span class="meta"> On <span class="date"><time class="entry-date">May 1, 2015</time></span></span>   
                            	<span class="meta">
                                          <span class="fa fa-folder-open-o"></span>
                                          <span class="categories-links">
                                          	<a href="/categories/java/" rel="category tag">java</a>
                                          </span></span>        </div>
        <!-- ## entry-meta end ## -->
        <!-- ## entry-content start ## -->
<div class="col-sm-12 entry-content">
<p><span style="color: #000000;">

<p> 
Every (almost) Java EE based application needs configuration — local, test or production — it does not matter. What matters — how easily this
configuration solution is maintained and how easily the environment may be changed. 
</p>

<p> 
There are many ways to achieve the requirement, however in this blog I will cover one of possible CDI based configuration solutions — Owner by <a href="http://owner.aeonbits.org/">http://owner.aeonbits.org/</a>. 
</p>

<p>
Usually there are several stages when properties used in production:
</p>

<ol>
<li>
Hardcoded properties (usually done by novice programmers, otherwise I would treat such properties as constants);</li> <li>Properties file
inside application war file (different properties configured during build time. It is not correct, because the same build cannot be deployed on
different environments);
</li> 
<li>
Properties file stored in server file system (properties are independent from war and is environment
specific).
</li>
</ol>

<p>
Java EE lacks easy configuration functionality. There are many discussions related to this topic
</p>

<ol>
<li>
<a href="http://www.adam-bien.com/roller/abien/entry/how_to_configure_java_ee" data-href="http://www.adam-bien.com/roller/abien/entry/how_to_configure_java_ee" rel="nofollow">HOW TO
CONFIGURE JAVA EE 6+ APPLICATIONS&nbsp;…WITHOUT XML</a>
</li>

<li>
<a href="http://stackoverflow.com/questions/5335979/storing-and-editing-configuration-for-java-ee-applications" data-href="http://stackoverflow.com/questions/5335979/storing-and-editing-configuration-for-java-ee-applications" rel="nofollow">Storing and editing configuration for Java EE applications at Stack Overflow</a>
</li>
<li>
<a href="http://blog.eisele.net/2011/09/configure-java-ee-applications-or.html" data-href="http://blog.eisele.net/2011/09/configure-java-ee-applications-or.html" rel="nofollow">Configure
Java EE applications or “Putting Bien into practice”</a> and more others.
</li>
</ol>

<p>
However they need custom actions to take into account:
</p>

<ul>
<li>
You need to manage property injection yourself;
</li>
<li>
You need to use <a href="http://projects.spring.io/spring-framework/" data-href="http://projects.spring.io/spring-framework/" rel="nofollow">Spring framework</a>, which has flexible configuration management mechanism. But do you need
<a href="http://projects.spring.io/spring-framework/" data-href="http://projects.spring.io/spring-framework/" rel="nofollow">Spring</a> only for property loading? I believe — no ☺
</li>
</ul>

<h3>Preconditions</h3>

<p>You need this environment setup in order to successfully complete the provided guide:</p>

<ul>
<li>
<a href="http://maven.apache.org/" data-href="http://maven.apache.org/" rel="nofollow">Apache Maven 3.x</a>
</li>
<li>
<a href="http://www.eclipse.org/downloads/" data-href="http://www.eclipse.org/downloads/" rel="nofollow">Eclipse
Luna</a>
</li>
<li>
Java EE 7 profile
</li>
<li>
<a href="http://owner.aeonbits.org/" data-href="http://owner.aeonbits.org/" rel="nofollow"><strong>Aeonbits Owner</strong></a>
</li>
</ul>

<h3>Implementation</h3>

<p><strong>Defining an interface</strong></p>

<pre>
/**
 * Application configuration properties are defined here.
 * 
 * @author vicento.ramos
 *
 */
@HotReload
@Sources({
“file:/etc/my-app.properties”, “file:~/.my-app.properties”, “classpath:/my-app.properties” })
@Named(“applicationConfig”)
public interface ApplicationConfig extends Accessible {
 @DefaultValue(“50”)
 @Key(“app.timeout”)
 int getInitialTimeout();
}
</pre>

<p><strong>Creating a producer</strong></p>

<pre>
/**
 * Application scope based configuration file producer.
 * 
 * @author vicento.ramos
 *
 */
@ApplicationScoped
public class ApplicationConfigProducer {
 @Produces
 @ApplicationScoped
 public ApplicationConfig produceSportsConfig() {
  return ConfigFactory.create(ApplicationConfig.class);
 }
}
</pre>

<p><strong>Creating a properties file</strong></p>

<p><strong>my-app.properties </strong>file may be stored in one of these
locations:</p>

<ul>
<li>/etc/my-app.properties</li>
<li>.my-app.properties</li>
<li>/my-app.properties</li>
</ul>

<p>
And the content of the file:</p>

<pre>app.timeout=30</pre>

<p><strong>Usage</strong></p>

<pre>
/**
 * Sample injection point of properties.
 * 
 * @author
vicento.ramos
 *
 */
@Named
public class SampleService {
 @Inject
 private ApplicationConfig applicationConfig;
 
 public void method() {
  System.out.println(String.format(“Config value: %d”, 
  applicationConfig.getInitialTimeout()));
 }
}
</pre>

<h3>Features</h3>

<ul>
<li>Multiple configuration locations — you may configure multiple lookup locations where
configuration files may be fetched from;</li>
<li>CDI Injection — Java EE based CDI injection using <em>@Named</em> and <em>@Inject </em>annotation</li><li>Default values — you may configure default values easily using <em>@DefaultValue</em></li><li>Hot reload — you may easily define the interval for properties hot reloading using 
<em>@HotReload</em></li><li>And many more if required</li></ul>

<h3>Resources</h3>

<ul><li><a href="https://github.com/aracrown/ara-blog-examples/tree/master/s01e01" data-href="https://github.com/aracrown/ara-blog-examples/tree/master/s01e01" rel="nofollow">Source in Git
repository</a></li></ul>




</span>


</p>
</div>
<div class="col-sm-12 entry-meta-tags">
	<span class="tags-links">
		 <a href="/tags/cdi" title="View posts tagged with &quot;cdi&quot;"> cdi</a>  
		 <a href="/tags/java-ee" title="View posts tagged with &quot;java-ee&quot;"> java-ee</a>  
		 <a href="/tags/owner" title="View posts tagged with &quot;owner&quot;"> owner</a>  
		 <a href="/tags/configuration" title="View posts tagged with &quot;configuration&quot;"> configuration</a>  
		 
	</span>
</div>
    </div>
<div class="row post-social">
    <div class="col-sm-12">
        <!-- ## inline list start ## -->
        <ul class="list-inline">
            <li><a class="fa fa-facebook" onclick="window.open('http://www.facebook.com/sharer.php?u=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/','Facebook','width=600,height=300,left='+(screen.availWidth/2-300)+',top='+(screen.availHeight/2-150)+''); return false;" href="http://www.facebook.com/sharer.php?u=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/"></a></li>
            <li><a class="fa fa-twitter" onclick="window.open('http://twitter.com/share?url=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/&amp;text=Java EE application configuration using Aeonbits Owner','Twitter share','width=600,height=300,left='+(screen.availWidth/2-300)+',top='+(screen.availHeight/2-150)+''); return false;" href="http://twitter.com/share?url=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/&amp;text=Java EE application configuration using Aeonbits Owner"></a></li>
            <li><a class="fa fa-google-plus" onclick="window.open('https://plus.google.com/share?url=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/','Google plus','width=585,height=666,left='+(screen.availWidth/2-292)+',top='+(screen.availHeight/2-333)+''); return false;" href="https://plus.google.com/share?url=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/"></a></li>
            <li><a class="fa fa-linkedin" onclick="window.open('http://www.linkedin.com/shareArticle?mini=true&amp;url=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/','Linkedin','width=863,height=500,left='+(screen.availWidth/2-431)+',top='+(screen.availHeight/2-250)+''); return false;" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://vytas.io/blog/java/Java-EE-application-configuration-using-Aeonbits-Owner/"></a></li>
                    </ul>
        <!-- ## inline list end ## -->
    </div>
</div>
<!-- ## post-social end ## -->
</article>



						
					</div>
				</div>
			</div>
			<!-- Footer -->
<footer id="footer">
				<div class="container">
					<div class="row">
						<div class="col-sm-12 footer-copyright">
							<a href="http:/vytas.io/"> vytas.io</a>
							<ul class="social list-inline">
										<li class="social_li">
											<a class="social_link " href="https://www.facebook.com/vytas.io" target="_blank">
												<span class="fa fa-facebook"/>
											</a>
										</li>
										<li class="social_li">
											<a class="social_link " href="https://www.facebook.com/vytas.io" target="_blank">
												<span class="fa fa-twitter"/>
											</a>
										</li>
										
										<li class="social_li">
											<a class="social_link " href="https://www.linkedin.com/in/vytasr" target="_blank">
												<span class="fa fa-linkedin"/>
											</a>
										</li>
									</ul>
						</div>
						
					</div>
				</div>
			</footer>
			
    		<script type="text/javascript" src="/js/bootstrap.min.js"></script>
			<script type="text/javascript" src="/js/bootstrap.dropmenu.js?ver=4.0.8"></script>
			<script type="text/javascript" src="/js/jquery.justifiedGallery.min.js?ver=4.0.8"></script>
			<script type="text/javascript" src="/js/swipebox/jquery.swipebox.min.js?ver=4.0.8"></script>
			<script type="text/javascript" src="/js/cycle/jquery.cycle.all.min.js?ver=4.0.8"></script>
			<script type="text/javascript" src="/js/detectmobilebrowser.js?ver=4.0.8"></script>
			<script type="text/javascript" src="/js/jquery.nicescroll.min.js?ver=4.0.8"></script>
			<script type="text/javascript" src="/js/app.ui.js?ver=4.0.8"></script>
		</div>
    
    	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6806880-4', 'auto');
  ga('send', 'pageview');

</script>
</body>
<a href="#top" class="scrollup" style="display: block;">
			<span class="fa fa-chevron-up"/>
		</a>
</html>
